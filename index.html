<!DOCTYPE html>
<html lang="ckb" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Movie Player</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- دیزاینی Plyr -->
    <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
    
    <style>
        /* ڕێکخستنی گشتی بۆ پڕکردنەوەی شاشە */
        body, html { 
            margin: 0; 
            padding: 0; 
            width: 100%; 
            height: 100%; 
            background: #000; 
            overflow: hidden; 
            font-family: sans-serif; 
        }
        
        #player-container {
            width: 100%; 
            height: 100%; 
            display: flex; 
            align-items: center; 
            justify-content: center;
        }

        /* قەبارەی پلەیەرەکە */
        .plyr {
            width: 100%;
            height: 100%;
        }

        /* ڕەنگی پلەیەرەکە (سوور) */
        :root {
            --plyr-color-main: #e50914;
        }

        /* پەیامی هەڵە */
        .error-msg {
            color: white;
            text-align: center;
            display: none; /* سەرەتا دیار نییە */
        }
    </style>
</head>
<body>

<div id="player-container">
    <video id="player" playsinline controls crossorigin poster="https://i.postimg.cc/pybMsYh3/0x0.webp"></video>
    
    <div id="error-message" class="error-msg">
        <h3>تکایە لینک دابنێ!</h3>
        <p>Example: ?url=YOUR_VIDEO_LINK</p>
    </div>
</div>

<!-- سکریپتی Plyr -->
<script src="https://cdn.plyr.io/3.7.8/plyr.js"></script>

<script>
    // 1. وەرگرتنی لینکەکە لە ناونیشانەوە
    const urlParams = new URLSearchParams(window.location.search);
    const videoUrl = urlParams.get('url');
    
    const videoElement = document.getElementById('player');
    const errorDiv = document.getElementById('error-message');

    // 2. پشکنین: ئایا لینک هەیە؟
    if (videoUrl) {
        // ئەگەر لینک هەبوو، دەیخەینە ناو ڤیدیۆکە
        videoElement.src = videoUrl;

        // کارپێکردنی پلەیەرەکە
        const player = new Plyr(videoElement, {
            controls: [
                'play-large', // دوگمەی گەورەی ناوەڕاست
                'play',       // دوگمەی خوارەوە
                'progress',   // هێڵی کات
                'current-time', // کات
                'mute',       // بێدەنگ کردن
                'volume',     // دەنگ
                'settings',   // کوالێتی و خێرایی
                'fullscreen'  // تەواوی شاشە
            ],
            keyboard: { focused: true, global: true }, // بۆ کۆنترۆڵ بە کیبۆرد
            autoplay: false // با خۆی دەست پێ نەکات (باشترە بۆ مۆبایل)
        });

    } else {
        // ئەگەر لینک نەبوو، پلەیەرەکە دەشارینەوە و پەیام نیشان دەدەین
        videoElement.style.display = 'none';
        errorDiv.style.display = 'block';
    }
</script>

</body>
</html>
